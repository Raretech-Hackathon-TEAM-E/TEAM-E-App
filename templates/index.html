<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>E-chat</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="../static/css/index.css"
    />
  </head>

<body>

<div class="main-container">
  <div class="chat-header">
   <div class="chat-top">
   <div id="header-menu">
    <p id="user-name">I am {{ user_name }}!!
    </p>
    <a href="{{ url_for('logout') }}">
      <span id="signout-btn">Sign out</span>
    </a>
  </div>
  </div>
 </div> 
<div class="channel">
  <h2>channel</h2>
  <div class="channel-box">
   <div class="pagination-container">
    <p id="prev"><</p>
    <ul class="pagination"></ul>
    <p id="next">></p>
   </div>

    <form action="/detail">
           
    <ul>
       {% for channel in channels %}
      <li>
      <a  href="{{ url_for('detail', cid=channel.cid) }}">{{ channel.channel_name }}</a>
      <input type="hidden" name="cid" value="{{channel.cid}}">
      </li>
      <form action="/delete_channel">
         <button type="submit" class="delete-channel-btn" >
          <a  href="{{ url_for('delete_channel', cid=channel.cid) }}">ゴミ箱</a>
          <input type="hidden" name="cid" value="{{channel.cid}}">
              <!--  ゴミ箱アイコン-->
        </button>
       </form>
       {% endfor %}
    </ul>
    </form>  

<!--試験的に記述　後で消します
          <button id="add-channel-btn">チャンネル追加</button>
        </div>
        <div class="pagination-container">
          <p id="prev"><</li>
          <ul class="pagination"></ul>
          <p id="next">></p>
        </div>
        <ul class="channel-box"></ul>
 value="{{channel_name}}

      -->
  </div>  
</div>


    <script type="text/javascript">
      const channels = JSON.parse('{{ channels|tojson }}')
      const uid = JSON.parse('{{ uid|tojson }}');
    </script>
     <script
     src="{{url_for('static',filename='js/pagenation.js')}}"
     type="text/javascript"
     ></script>



  </body>
</html>